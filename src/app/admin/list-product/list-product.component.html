<div *ngIf="Products.length > 0;">
    <select (change)="onChange($event)" class="select">
        <option value="">Choose Product</option>
        <option *ngFor="let Product of Products" value="{{Product._id}}">{{Product.name}}</option>
    </select>
</div>


<form (submit)="onSubmit()" class="form-container" *ngIf="form == true">
    <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" [(ngModel)]="productForm.name" name="name" required>
        <div *ngIf="productForm.name === '' || productForm.name === null || productForm.name === undefined"
            class="invalid-feedback">Name is required.</div>
    </div>

    <div class="form-group">
        <label for="category_id">Category:</label>
        <input type="text" id="category_id" [(ngModel)]="productForm.category_id" name="category_id" required>
        <div *ngIf="productForm.category_id === '' || productForm.category_id === null || productForm.category_id === undefined"
            class="invalid-feedback">Category_id is required.</div>
    </div>

    <div class="form-group">
        <label for="subCategory_id">SubCategory:</label>
        <input type="text" id="subCategory_id" [(ngModel)]="productForm.subCategory_id" name="subCategory_id" required>
        <div *ngIf="productForm.subCategory_id === '' || productForm.subCategory_id === null || productForm.subCategory_id === undefined"
            class="invalid-feedback">SubCategory_id is required.</div>
    </div>

    <div class="form-group">
        <label for="description">Description:</label>
        <input type="text" id="description" [(ngModel)]="productForm.description" name="description" required>
        <div *ngIf="productForm.description === '' || productForm.description === null || productForm.description === undefined"
            class="invalid-feedback">Description is required.</div>
    </div>

    <div class="form-group">
        <label for="category_image">Category Image:</label>
        <input type="file" id="category_image" name="category_image" (change)="onFileChange($event)" required>
    </div>

    <div *ngIf="selectedImage == undefined;else thisOne">
        <img src="http://localhost:8088/uploads/product_images/{{productForm.product_image}}"
            style="height: 300px; width:500px" />
    </div>
    <ng-template #thisOne>
        <p>Image Selected</p>
    </ng-template>

    <div>
        <button type="submit" [disabled]="!productForm.name">Update</button>
        <button (click)="hideForm()">Cancel</button>
    </div>
</form>